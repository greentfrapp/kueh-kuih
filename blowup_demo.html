<!DOCTYPE html>
<html lang="en">
<head>
	<title>kueh-kuih</title>
	<meta charset="utf-8" /> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://fonts.googleapis.com/css?family=Reenie+Beanie|Open+Sans+Condensed:300&display=swap" rel="stylesheet"> 
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.min.js"></script>
	<style>
		body {
			padding: 100px;
		}
		.content {
			width: 800px;
			margin-left: auto;
			margin-right: auto;
		}
		.content h1 {
			font-family: 'Reenie Beanie', sans-serif;
			font-size: 84px;
		}
		image:hover {
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div class="content">
		<h1>Puteri Salat</h1>
		<div>
			<svg style="width:800px;height:600px;" ></svg>
		</div>
	</div>
	<script>
		let exploded = false
		let transition_duration = 300
		let svg = d3.select('svg')
		let salat_top_info_box = svg.append('circle')
								.attr('id', 'salat_top_info_box')
								.attr('r', 0)
								.attr('cx', 200)
								.attr('cy', 250)
								.attr('fill', '#bdf485')
		let salat_top_info = svg.append('text')
								.attr('id', 'salat_top_info')
								.attr('text-anchor', 'middle')
								.attr('x', 200)
								.attr('y', 250)
								.attr('font-size', 0)
								.attr('font-family', 'Open Sans Condensed')
		salat_top_info.append('tspan')
						.text('The green part')
						.attr('x', 200)
		salat_top_info.append('tspan')
						.text('is soft and sweet!')
						.attr('x', 200)
						.attr("dy", "1em")
		let salat_bot_info_box = svg.append('circle')
								.attr('id', 'salat_bot_info_box')
								.attr('r', 0)
								.attr('cx', 200)
								.attr('cy', 300)
								.attr('fill', '#dadec6')
		let salat_bot_info = svg.append('text')
								.attr('id', 'salat_bot_info')
								.attr('text-anchor', 'middle')
								.attr('x', 200)
								.attr('y', 300)
								.attr('font-size', 0)
								.attr('font-family', 'Open Sans Condensed')
		salat_bot_info.append('tspan')
						.text('The white part')
						.attr('x', 200)
		salat_bot_info.append('tspan')
						.text('is made of sticky rice!')
						.attr('x', 200)
						.attr("dy", "1em")
		let salat_bot = svg.append('image')
						.attr('xlink:href', 'assets/salat_2.png')
						.attr('width', 200)
						.attr('height', 200)
						.attr('id', 'salat_bot')
						.attr('x', 100)
						.attr('y', 200)
						.on('click', explode)
		let salat_top = svg.append('image')
						.attr('xlink:href', 'assets/salat_1.png')
						.attr('width', 200)
						.attr('height', 200)
						.attr('id', 'salat_top')
						.attr('x', 100)
						.attr('y', 150)
						.on('click', explode)
		
		
		function explode() {
			if (!exploded) {
				d3.select('#salat_top')
					.transition()
					.duration(transition_duration)
					.attr('transform', 'translate(0,-50)')
				d3.select('#salat_bot')
					.transition()
					.duration(transition_duration)
					.attr('transform', 'translate(0,50)')
				d3.select('#salat_top_info_box')
					.transition()
					.duration(transition_duration)
					.attr('r', 100)
					.attr('transform', 'translate(250, -125)')
				d3.select('#salat_top_info')
					.transition()
					.duration(transition_duration)
					.attr('font-size', 36)
					.attr('transform', 'translate(250, -125)')
				d3.select('#salat_bot_info_box')
					.transition()
					.duration(transition_duration)
					.attr('r', 100)
					.attr('transform', 'translate(250, 75)')
				d3.select('#salat_bot_info')
					.transition()
					.duration(transition_duration)
					.attr('font-size', 36)
					.attr('transform', 'translate(250, 75)')
			} else {
				d3.select('#salat_top')
					.transition()
					.duration(transition_duration)
					.attr('transform', 'translate(0,0)')
				d3.select('#salat_bot')
					.transition()
					.duration(transition_duration)
					.attr('transform', 'translate(0,0)')
				d3.select('#salat_top_info_box')
					.transition()
					.duration(transition_duration)
					.attr('r', 0)
					.attr('transform', 'translate(0,0)')
				d3.select('#salat_top_info')
					.transition()
					.duration(transition_duration)
					.attr('font-size', 0)
					.attr('transform', 'translate(0,0)')
				d3.select('#salat_bot_info_box')
					.transition()
					.duration(transition_duration)
					.attr('r', 0)
					.attr('transform', 'translate(0,0)')
				d3.select('#salat_bot_info')
					.transition()
					.duration(transition_duration)
					.attr('font-size', 0)
					.attr('transform', 'translate(0,0)')
			}
			exploded = !exploded
		}

	</script>
</body>
</html>